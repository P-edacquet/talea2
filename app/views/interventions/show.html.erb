<div class="mx-auto md:w-2/3 w-full">
  <div class="mx-auto mt-8">
    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
    <% end %>

    <%= render @intervention %>

    <div class="flex flex-wrap gap-2">
      <%= link_to "Modifier cette intervention", edit_intervention_path(@intervention), class: "rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
      <% if policy(@intervention).destroy? %>
        <%= button_to "Détruire cette intervention", intervention_path(@intervention), method: :delete, data: {turbo_confirm: "Êtes-vous certain(e) de vouloir supprimer cette intervention ?" }, class: "rounded-lg py-3 px-5 bg-gray-100 font-medium" %>
      <% end %>
      <%= link_to "Retour vers toutes les interventions", interventions_path, class: "rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    </div>

    <h2 class="text-2xl mt-8">Audits</h2>
    <div class="overflow-x-auto">
      <table class="table table-sm">
        <thead class="bg-slate-100">
          <tr>
            <th>Date</th>
            <th>Utilisateur</th>
            <th>Action</th>
            <th>Modifications</th>
          </tr>
        </thead>

        <%= render partial: 'partials/audit', collection: @intervention.audits.includes(:user).reorder(id: :desc) %>
      </table>
    </div>
  </div>

</div>
